2025-08-25 20:16:20,363 - root - INFO - Loaded settings.json successfully
2025-08-25 20:16:20,364 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:16:20,364 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:16:20,364 - root - INFO - Initialized OneVizion integration
2025-08-25 20:18:34,553 - root - INFO - Loaded settings.json successfully
2025-08-25 20:18:34,554 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:18:34,554 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:18:34,554 - root - INFO - Initialized OneVizion integration
2025-08-25 20:18:35,509 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.18.56:5000
2025-08-25 20:18:35,509 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-25 20:18:35,514 - werkzeug - INFO -  * Restarting with stat
2025-08-25 20:18:40,882 - root - INFO - Loaded settings.json successfully
2025-08-25 20:18:40,882 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:18:40,882 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:18:40,882 - root - INFO - Initialized OneVizion integration
2025-08-25 20:18:41,711 - werkzeug - WARNING -  * Debugger is active!
2025-08-25 20:18:41,719 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-25 20:18:52,376 - werkzeug - INFO - 192.168.18.56 - - [25/Aug/2025 20:18:52] "GET / HTTP/1.1" 200 -
2025-08-25 20:18:52,504 - werkzeug - INFO - 192.168.18.56 - - [25/Aug/2025 20:18:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-25 20:26:02,062 - root - INFO - Loaded settings.json successfully
2025-08-25 20:26:02,064 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:26:02,064 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:26:02,064 - root - INFO - Initialized OneVizion integration
2025-08-25 20:26:02,900 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.18.56:5000
2025-08-25 20:26:02,900 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-25 20:26:02,903 - werkzeug - INFO -  * Restarting with stat
2025-08-25 20:26:09,049 - root - INFO - Loaded settings.json successfully
2025-08-25 20:26:09,049 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:26:09,049 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:26:09,049 - root - INFO - Initialized OneVizion integration
2025-08-25 20:26:10,052 - werkzeug - WARNING -  * Debugger is active!
2025-08-25 20:26:10,060 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-25 20:26:23,663 - werkzeug - INFO - 192.168.18.56 - - [25/Aug/2025 20:26:23] "GET / HTTP/1.1" 200 -
2025-08-25 20:26:23,826 - werkzeug - INFO - 192.168.18.56 - - [25/Aug/2025 20:26:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-25 20:26:38,313 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 20:26:38] "GET / HTTP/1.1" 200 -
2025-08-25 20:26:38,419 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 20:26:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-25 20:27:16,179 - root - INFO - Loaded settings.json successfully
2025-08-25 20:27:16,179 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:27:16,179 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:27:16,179 - root - INFO - Initialized OneVizion integration
2025-08-25 20:27:17,257 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.18.56:5000
2025-08-25 20:27:17,257 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-25 20:27:17,262 - werkzeug - INFO -  * Restarting with stat
2025-08-25 20:27:22,936 - root - INFO - Loaded settings.json successfully
2025-08-25 20:27:22,936 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-25 20:27:22,937 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-25 20:27:22,937 - root - INFO - Initialized OneVizion integration
2025-08-25 20:27:23,940 - werkzeug - WARNING -  * Debugger is active!
2025-08-25 20:27:23,949 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-25 20:29:04,141 - werkzeug - INFO - 127.0.0.1 - - [25/Aug/2025 20:29:04] "GET /logs HTTP/1.1" 200 -
2025-08-28 20:34:03,851 - root - INFO - Loaded settings.json successfully
2025-08-28 20:34:03,852 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-28 20:34:03,852 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-28 20:34:03,852 - root - INFO - Initialized OneVizion integration
2025-08-28 20:34:05,241 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.18.56:5000
2025-08-28 20:34:05,241 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-28 20:34:05,244 - werkzeug - INFO -  * Restarting with stat
2025-08-28 20:34:08,076 - root - INFO - Loaded settings.json successfully
2025-08-28 20:34:08,076 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-28 20:34:08,076 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-28 20:34:08,076 - root - INFO - Initialized OneVizion integration
2025-08-28 20:34:08,615 - werkzeug - WARNING -  * Debugger is active!
2025-08-28 20:34:08,623 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-28 20:34:12,660 - werkzeug - INFO -  * Detected change in 'D:\\GIT\\SamertSheet\\searchtest.py', reloading
2025-08-28 20:34:12,946 - werkzeug - INFO -  * Restarting with stat
2025-08-28 20:34:15,934 - root - INFO - Loaded settings.json successfully
2025-08-28 20:34:15,935 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-28 20:34:15,935 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-28 20:34:15,935 - root - INFO - Initialized OneVizion integration
2025-08-28 20:34:16,464 - werkzeug - WARNING -  * Debugger is active!
2025-08-28 20:34:16,467 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-28 20:34:17,707 - root - INFO - Starting PO extraction for trackor_id=1003074778 over fields=['CP_ATTACHMENT_1', 'CP_ATTACHMENT_2', 'CP_ATTACHMENT_3']
2025-08-28 20:34:17,713 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:18,783 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "POST /api/v3/trackor_types/Client/trackors/search?fields=XITOR_KEY HTTP/1.1" 200 None
2025-08-28 20:34:18,794 - root - INFO - Retrieving file for trackor_id=1003074778, field=CP_ATTACHMENT_1
2025-08-28 20:34:18,795 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003074778, field CP_ATTACHMENT_1
2025-08-28 20:34:18,795 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003074778/file/CP_ATTACHMENT_1
2025-08-28 20:34:18,799 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:19,742 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003074778/file/CP_ATTACHMENT_1 HTTP/1.1" 302 0
2025-08-28 20:34:19,753 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): s3.us-east-1.amazonaws.com:443
2025-08-28 20:34:20,604 - urllib3.connectionpool - DEBUG - https://s3.us-east-1.amazonaws.com:443 "GET /espeed.onevizion.com/blob_data/1000728354?response-content-disposition=attachment%3B%20filename%2A%3DUTF-8%27%272025FL-HE-165251%2520NTP%2520Essentia.xls&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20250828T153420Z&X-Amz-SignedHeaders=host&X-Amz-Expires=149&X-Amz-Credential=AKIAZYI2AXH2WDXHULRF%2F20250828%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=266d1cbd521bd40586816b359d52792d99bcd15cb6641e7be3d623d4ffa29877 HTTP/1.1" 200 49393
2025-08-28 20:34:20,605 - IntegrationFunctions - DEBUG - Response status: 200
2025-08-28 20:34:20,825 - IntegrationFunctions - INFO - Successfully retrieved file (size: 49393 bytes)
2025-08-28 20:34:20,827 - root - INFO - File in CP_ATTACHMENT_1 is not a PDF, skipping.
2025-08-28 20:34:20,828 - root - INFO - Retrieving file for trackor_id=1003074778, field=CP_ATTACHMENT_2
2025-08-28 20:34:20,828 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003074778, field CP_ATTACHMENT_2
2025-08-28 20:34:20,828 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003074778/file/CP_ATTACHMENT_2
2025-08-28 20:34:20,830 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:21,812 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003074778/file/CP_ATTACHMENT_2 HTTP/1.1" 302 0
2025-08-28 20:34:21,819 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): s3.us-east-1.amazonaws.com:443
2025-08-28 20:34:22,509 - urllib3.connectionpool - DEBUG - https://s3.us-east-1.amazonaws.com:443 "GET /espeed.onevizion.com/blob_data/1000728353?response-content-disposition=attachment%3B%20filename%2A%3DUTF-8%27%27Purchase%2520Order_WOW250162479.pdf&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20250828T153422Z&X-Amz-SignedHeaders=host&X-Amz-Expires=149&X-Amz-Credential=AKIAZYI2AXH2WDXHULRF%2F20250828%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=3cac54c8f1ba4b887fb1a734424bc0d194042e374e04a07c51fc4d24ef4d9db1 HTTP/1.1" 200 71212
2025-08-28 20:34:22,510 - IntegrationFunctions - DEBUG - Response status: 200
2025-08-28 20:34:22,719 - IntegrationFunctions - INFO - Successfully retrieved file (size: 71212 bytes)
2025-08-28 20:34:22,722 - root - INFO - PDF detected in CP_ATTACHMENT_2; extracting fields via OpenAI.
2025-08-28 20:34:22,834 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-27243b60-0909-46ac-b77a-c59c1a686598', 'json_data': {'messages': [{'role': 'user', 'content': '\n        You are a document data extraction expert. The extracted text is from a PDF file of a Purchase Order (PO).\n        First, decide if it is a valid PO.\n        Rules of thumb (not exhaustive):\n        - Valid PO docs typically contain identifiers like "Purchase Order", "PO Number", vendor/buyer names, dates, monetary amounts, ship-to or bill-to sections, line items/description.\n        - If it is an invoice, quote, estimate, SOW, contract, receipt, packing slip, timesheet, or non-procurement document, treat it as NOT a valid PO.\n\n        If NOT a valid PO: \n        Return ONLY this JSON (no extra keys):\n        {\n            "Is Valid PO": false,\n            "Invalid Reason": "<one short sentence why it is not a PO>"\n        }\n\n        If it IS a valid PO:\n        Your task is to extract the following six fields and return them in a JSON object:\n\n        1. Client Name – The name of the company that issued the PO (If it is like wow then "WOW!", if it has Kwikom/wanrack/gateway then "Gateway Fiber", if it has Ripple then "Ripple Fiber")\n        2. PO Number – The official purchase order number\n        3. PO Amount – In case of initial order it will be the total monetary value of the PO, but in case of change order, it will be the amount of change order.\n        4. Purchase Order Type – Determine if it\'s:\n        "Change Order" if terms like “Change Order No.”, “Amendment”, “Revised PO”, or similar are present and contain a non-empty or non-zero value\n        "Initial Order" if there’s no indication of change or revision or change order number is empty.\n        5. PO Date – The date the PO was issued or approved (format: YYYY-MM-DD)\n        6. Ship To Address – The full address of the company issuing the PO. It will be the ship to address. Do not extract Bill to address. Do not use \\n for line breaks. Just use space.\n        7. PO Item Description - The most appropriate PO description in one line. This will be under Items/description/notes/memo. Give the most suitable short PO item/description.\n\n        Return only a JSON string with these fields, like this:\n\n        {  \n            "Is Valid PO": true,\n            "Client Name": "...",\n            "PO Number": "...",\n            "PO Amount": ...,\n            "Purchase Order Type": "...",\n            "PO Date": "YYYY-MM-DD",\n            "Ship To Address": "...",\n            "PO Item Description": "..."\n        }\n\n        If any field is missing or ambiguous, do your best to infer it logically from context, or return null.\n        Return *only* the JSON string. Do not include any explanation or formatting. Do not wrap in backticks.\n\n        Here is the extracted text:\n         \nPURCHASE ORDER              \nPurchase Order No. : WOW250162479\nDate: 8/27/2025\nChange Order No. :  \n  \n \n \n \n \n \n \n \n \nWOW250162479\n1 of 3\n \nBill To\nShip To\nWideOpenWest Finance LLC                   \n7887 East Belleview Avenue \nSuite 1000 \nEnglewood, CO 80111\nOr Email Invoice to:wowap@wowinc.com\nFL-Hernando-WHSE\n16020 Aviation Loop Dr\nBrooksville FL 34604-6802\nUnited States\n  \n*** DELIVERY NOTES ***\n8:00 AM-3:00 PM\nTo\nEssentia Inc\n10130 Mallard Creek Road\nSuite 300\nCharlotte NC 28262\nUnited States\n \nTERMS\nSHIP VIA\nBUYER\nREQUESTED BY\nNet 30\nLaine Dallas\nBryan T Boguslawski\nF.O.B. POINTS\nNOTES\n2025FL-HE-165251 / 8375 Spring Hill Drive, Spring Hill, FL\nLine\nPart Number\nExp. Receipt Date\nQuantity\nUnit Cost\nAmount\n1\nPermitting\n9/2/2025\n432.5\n$1.00\n$432.50\n \nThe parties hereby incorporate the requirements of \n41 C.F.R. § 60-1.4(a) and 29 C.F.R. § 471, Appendix A \nto Subpart A, if applicable.This contractor and \nsubcontractor shall abide by the requirements of 41 \nCFR 60-300.5(a) and 41 CFR 60-741.5 (a), if \napplicable. These regulations prohibit discrimination \nagainst quali\ufb01ed protected veterans and quali\ufb01ed \nindividuals with disabilities, and require af\ufb01rmative \naction by covered prime contractors and \nsubcontractors to employ and advance in \nemployment quali\ufb01ed protected veterans and \nquali\ufb01ed individuals with disabilities.\nORDER TOTAL:\n$432.50\n \n \n \n \n \n \n_______________________________\nAuthorized Signature\n \n \n \n \n \n \n            \n \nPURCHASE ORDER              \nPurchase Order No. : WOW250162479\nDate: 8/27/2025\nChange Order No. :  \n  \n \n \n \n \n \n \n \n \nWOW250162479\n2 of 3\nWIDEOPENWEST\nPURCHASE ORDER TERMS AND CONDITIONS\nWideOpenWest Finance, LLC (“Customer”) and Supplier agree as follows. This Purchase Order (“PO”) for the purchase of Product, Deliverables or Services as described herein, is \nCustomer’s offer to Seller. The PO may include prices, descriptions of the Product, Deliverables or Services, speci\ufb01cations, additional warranty conditions, lead-time, and other \ninformation and business terms related to Product, Deliverables or Services. In the absence of acknowledgement or rejection of the PO, delivery to Customer of the Product, \nDeliverables or Services shall constitute acceptance of the PO, and the terms and conditions set forth herein. Except for rights as set forth in the Section titled Order Changes and \nCancellations, this PO constitutes the complete and \ufb01nal understanding of the parties with respect to the subject matter hereof and may not be superseded, supplemented, modi\ufb01ed or \namended except by a writing signed by duly authorized representatives of both parties.\n1. De\ufb01nitions:   “Product” means equipment, hardware, cabling, Embedded Software and other materials supplied to Customer by Supplier. “Deliverables” means Software, and other \ndocuments, technology, data, information, and materials delivered from Supplier to Customer. “Services” means the services speci\ufb01ed in the PO that Supplier provides to Customer. \n“Software” means the computer software programs provided or to be provided by Supplier under this PO including Embedded Software, any third party software delivered separately or \nas part of the Software provided by Supplier under this PO any Upgrades, Firmware and any related Documentation. “Embedded Software” or “Firmware” means software that is an \nintegral part of a Deliverable and is necessary for the operation of the Deliverable (e.g., operating software).\n2. Invoices and Payments:   Supplier will issue invoices within thirty (30) calendar days following delivery and Customer acceptance of Products, Deliverables and Services. Invoices \nwill contain Supplier’s name, invoice number, invoice date, Supplier contact, PO number, and PO line item number. Charges, such as freight and all state, federal, sales, or other \napplicable taxes will be listed separately. Undisputed invoices will be paid within forty-\ufb01ve (45) calendar days of Customer acceptance of Product, Deliverables or Services. Payment shall \nnot constitute acceptance or approval of Products, Deliverables and Services. All claims for money due or to become due from Customer shall be subject to deduction or set off by \nCustomer by reason of any counterclaim arising out of any transaction with Supplier. Supplier will only invoice Product, Deliverable and Services charges, amounts and fees not to \nexceed those set forth is this PO. Supplier will return any Customer over-payments within \ufb01fteen (15) calendar days after Supplier receipt, in the manner directed by Customer Accounts \nPayable Department. \n3. Acknowledgement:   Supplier will acknowledge receipt of this PO in writing, by facsimile transmission or electronic media, and accept or reject the PO within two (2) business days. \nSupplier will honor the dates, amounts and other terms of an accepted PO. Any pre-printed Supplier provisions or standard forms shall have no effect and the terms and conditions of \nthis PO shall control.  \n4. Order Changes and Cancellations:   Customer may at any time make changes in the quantity or speci\ufb01cations of Products, Deliverables or Services. Upon written notice to Seller, \nCustomer may cancel POs without liability. If Supplier reasonably believes the compensation for Products, Deliverables or Services must be modi\ufb01ed to accommodate the proposed \nchange, Supplier will provide Customer with a detailed written estimate of the anticipated effect within two (2) business days after receipt of the change notice. If Supplier timely submits \na response, the parties will negotiate a mutually acceptable amendment to the PO. If Supplier fails to respond to the change notice within two (2) business days, Supplier will implement \nCustomer proposed change without any additional changes to the Order. When Customer issues a change notice, Supplier will continue to provide Products, Deliverables or Services as \nspeci\ufb01ed in the PO until the change becomes effective, unless otherwise directed by Customer in writing. Supplier will not unreasonably withhold or delay its consent to any change. \n5. Transportation and Packing:   All Products and Deliverables shall be packed and shipped in accordance with Customer\'s instructions and accepted industry standards. All Products \nand Deliverables shall be shipped by the route and method of transportation speci\ufb01ed by Customer. Customer shall have the right to designate the transportation carrier. Supplier is \nexpected to ship from its closest facility to Customer’s receiving location. Premium transportation may only be used with Customer’s prior verbal or written authorization. Invoices for \ntransportation charges shall be accompanied by appropriate documentation. \n6. Acceptance:   All Products, Deliverables or Services shall be subject to Customer\'s right of inspection, acceptance, rejection and revocation. Non-conforming Products or Deliverables \nor shipments may be returned to Supplier at its expense. In the event Customer receives Products or Deliverables which contain defects or nonconformities not apparent on examination, \nCustomer reserves the right to require replacement, as well as payment of any reasonable direct damages. Customer shall have a reasonable period of time, not less than forty-\ufb01ve (45) \ncalendar days after delivery, to notify Supplier of any nonconformity of Products, Deliverables or Services. Nothing in this Article shall relieve Supplier\'s obligation of testing, inspection \nand quality control. \n7. Warranty:   Supplier warrants that it has all rights, title and interest, free of all liens and encumbrances, in and to all Products and Deliverables sold, leased or licensed to Customer \nand that all Products and Deliverables and components are new. Supplier warrants that Products, Deliverables and Services will conform to all proposals, quotations, speci\ufb01cations, and \nother requirements set forth in the PO and will be free from material defects in materials and workmanship and, shall be free from material defects in design. Supplier warrants that it will \nperform Services in a professional and workmanlike manner with a commercially reasonable standard of care, diligence, skill, knowledge and judgment. At Customer’s option, Supplier \nshall refund any monies paid by Customer, repair or replace defective or non-conforming Products or Deliverables (or parts of Products or Deliverables), or re-perform any non-\nconforming Services free of charge to Customer from the date of Product, Deliverable or Service delivery and for the period indicated in the corresponding proposal, quotation, or \npublished warranty. In the event of any con\ufb02ict, the period indicated in the PO shall prevail. Supplier shall be responsible for shipment charges and risk of loss on Products or \nDeliverables returned under warranty and for subsequent returns to Customer. Warranties will not be affected by resale.  \n8. Product Life Cycle:   Supplier will provide advance noti\ufb01cation of changes to its Products purchased by Customer by issuing a Product Change Notices (“PCN”) document. Supplier \nagrees to provide Customer at least ninety (90) calendar days’ written notice of its intent to discontinue any Product or Deliverable.  \n9. Title and Risk of Loss:   Title to Products and Deliverables will transfer to Customer FOB Destination, Prepay and Add, unless otherwise permitted under the PO. Customer reserves \nthe right to direct the use of a designated freight carrier.  \n10. Customer\'s Information and Property:   Supplier and its employees and agents shall take all necessary precautions to safeguard the con\ufb01dentiality and proprietary nature of any \nCustomer records or information made available to Supplier or to which Supplier\'s employees or agents have access. All items on Customer\'s premises are the property of Customer and \nmay not be used or removed without prior approval.  \n11. Independent Contractor:   Supplier certi\ufb01es that it is engaged in an independent business and will perform its obligations under this PO as an independent contract\n        '}], 'model': 'gpt-4'}}
2025-08-28 20:34:22,916 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-08-28 20:34:22,917 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-08-28 20:34:23,207 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020F5B8B0560>
2025-08-28 20:34:23,207 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020F5B7C9350> server_hostname='api.openai.com' timeout=5.0
2025-08-28 20:34:23,441 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020F5B8B0500>
2025-08-28 20:34:23,442 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-28 20:34:23,443 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-28 20:34:23,443 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-28 20:34:23,444 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-28 20:34:23,444 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-28 20:34:30,541 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 28 Aug 2025 15:34:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'essentia-pyby0z'), (b'openai-processing-ms', b'6049'), (b'openai-project', b'proj_CNaEuGaiUZ8tieIia74ETBi9'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'6054'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'6796'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'19.224s'), (b'x-request-id', b'req_2adf026099e84878841a2e3cd25320a1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=TmKXX.5p7ZxiwjkAVDqSQ0YUtpIwc_o8Y24homJwRhU-1756395270-1.0.1.1-qFgZm9gZ0h10aY6tSepo7iQR0XeOSPfI3N1KlxW3nkmU6jLhYds12GwUSvjEy0koKNskXfltsE2vL_V8cRLwdwbq3BdfDJmDxrMQih1ITjo; path=/; expires=Thu, 28-Aug-25 16:04:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=KwOys5ZertTmOhZCM44CIWsu04kJx1n0qLz7mqM7UOY-1756395270840-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9764df5fcd32d14f-DEL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-08-28 20:34:30,545 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 20:34:30,546 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-28 20:34:30,550 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-28 20:34:30,551 - httpcore.http11 - DEBUG - response_closed.started
2025-08-28 20:34:30,551 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-28 20:34:30,551 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 28 Aug 2025 15:34:30 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'essentia-pyby0z'), ('openai-processing-ms', '6049'), ('openai-project', 'proj_CNaEuGaiUZ8tieIia74ETBi9'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '6054'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '6796'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '19.224s'), ('x-request-id', 'req_2adf026099e84878841a2e3cd25320a1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=TmKXX.5p7ZxiwjkAVDqSQ0YUtpIwc_o8Y24homJwRhU-1756395270-1.0.1.1-qFgZm9gZ0h10aY6tSepo7iQR0XeOSPfI3N1KlxW3nkmU6jLhYds12GwUSvjEy0koKNskXfltsE2vL_V8cRLwdwbq3BdfDJmDxrMQih1ITjo; path=/; expires=Thu, 28-Aug-25 16:04:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=KwOys5ZertTmOhZCM44CIWsu04kJx1n0qLz7mqM7UOY-1756395270840-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9764df5fcd32d14f-DEL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-08-28 20:34:30,552 - openai._base_client - DEBUG - request_id: req_2adf026099e84878841a2e3cd25320a1
2025-08-28 20:34:30,571 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-085dbc3f-5218-45ac-a5f7-82ef34b4c2d0', 'json_data': {'messages': [{'role': 'user', 'content': '\n    You are a matching engine. You are given:\n    - Extracted client name from a document: "WOW!"\n    - List of valid existing clients: [\'Verizon\', \'Mastec\', \'Helicore\', \'Ubiquity\', \'WOW!\', \'Crown Castle\', \'Omni\', \'Glide Fiber\', \'Wide Open West\', \'Duke Energy\', \'Comcast Houston\', \'CloudWyze\', \'Comcast\', \'Comcast Denver\', \'Float Fiber\', \'Docomo Pacific\', \'Westchester\', \'Obera Connect\', \'Gateway Fiber\', \'KARYX\', \'Ripple Fiber\', \'Lumen\', \'Pioneer Wireless\', \'CSKT\', \'Essentia, Inc.\', \'AT&T Services, Inc.\', \'Midwest Fiber Networks, Inc\', \'Resound\', \'Syringa Networks\', \'Bertram Communications, LLC\', \'L3Harris\']\n\n    Your job:\n    1. Find the closest, most likely match from the list, accounting for:\n       - Minor differences in case (e.g., WOW vs Wow)\n       - Punctuation differences (WOW vs WOW!)\n       - Common company suffixes (Inc, Corp, LLC, Ltd)\n       - Variants in parentheses (AWS(Karyx) should match KARYX or AWS, whichever is most exact)\n       - Variants like \'AT&T Enterprises, LLC\' should match \'AT&T Services, Inc.\'\n    2. If there is no reasonable match, return "NO_MATCH".\n    3. Return only a JSON string if there is a match with these fields, like this:\n\n        {  \n            "Client Name Matched": "...",\n            "Confidence Level of Matching": "...%"\n        }\n    '}], 'model': 'gpt-4o-mini'}}
2025-08-28 20:34:30,572 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-08-28 20:34:30,572 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-28 20:34:30,572 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-28 20:34:30,573 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-28 20:34:30,573 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-28 20:34:30,573 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-28 20:34:32,592 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 28 Aug 2025 15:34:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'essentia-pyby0z'), (b'openai-processing-ms', b'655'), (b'openai-project', b'proj_CNaEuGaiUZ8tieIia74ETBi9'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'660'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199673'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'98ms'), (b'x-request-id', b'req_2709b30fb59347c9920da6ba1725589d'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9764df8c5f0ed14f-DEL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-08-28 20:34:32,593 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 20:34:32,594 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-28 20:34:32,595 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-28 20:34:32,595 - httpcore.http11 - DEBUG - response_closed.started
2025-08-28 20:34:32,595 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-28 20:34:32,595 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 28 Aug 2025 15:34:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'essentia-pyby0z', 'openai-processing-ms': '655', 'openai-project': 'proj_CNaEuGaiUZ8tieIia74ETBi9', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '660', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '199673', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '98ms', 'x-request-id': 'req_2709b30fb59347c9920da6ba1725589d', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9764df8c5f0ed14f-DEL', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-08-28 20:34:32,596 - openai._base_client - DEBUG - request_id: req_2709b30fb59347c9920da6ba1725589d
2025-08-28 20:34:32,599 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:33,609 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "PUT /api/v3/trackors/1003074778 HTTP/1.1" 200 None
2025-08-28 20:34:33,616 - IntegrationFunctions - INFO - Uploading file to trackor 1003074778, field CP_ACTIVE_PURCHASE_ORDER, name WOW250162479.pdf
2025-08-28 20:34:33,619 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:35,130 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "POST /api/v3/trackor/1003074778/file/CP_ACTIVE_PURCHASE_ORDER?file_name=WOW250162479.pdf HTTP/1.1" 200 None
2025-08-28 20:34:35,135 - IntegrationFunctions - DEBUG - Upload response 200: 1000728421
2025-08-28 20:34:35,136 - root - INFO - File uploaded to 1003074778 CP_ACTIVE_PURCHASE_ORDER: ({'Date': 'Thu, 28 Aug 2025 15:34:35 GMT', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'AWSALB=I0IwviOI9LF/LMQeS9i37DFN+i7qdRZ3T3ByffuyuZiiIVYe0iuuL5sVoRcVVkgtYXrOnL7TXwDpVf/sxlxpOYiC1B4Q5WZiS6RcUM8gpi0f2t58dDkM6dXnr3w1; Expires=Thu, 04 Sep 2025 15:34:34 GMT; Path=/, AWSALBCORS=I0IwviOI9LF/LMQeS9i37DFN+i7qdRZ3T3ByffuyuZiiIVYe0iuuL5sVoRcVVkgtYXrOnL7TXwDpVf/sxlxpOYiC1B4Q5WZiS6RcUM8gpi0f2t58dDkM6dXnr3w1; Expires=Thu, 04 Sep 2025 15:34:34 GMT; Path=/; SameSite=None; Secure', 'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Strict-Transport-Security': 'max-age=2592000', 'X-Frame-Options': 'DENY', 'X-Content-Type-Options': 'nosniff', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-XSS-Protection': '1; mode=block', 'Server': 'ov'}, 1000728421)
2025-08-28 20:34:35,138 - root - INFO - Updated trackor_id 1003074778 from CP_ATTACHMENT_2
2025-08-28 20:34:35,138 - root - INFO - Retrieving file for trackor_id=1003074778, field=CP_ATTACHMENT_3
2025-08-28 20:34:35,138 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003074778, field CP_ATTACHMENT_3
2025-08-28 20:34:35,138 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003074778/file/CP_ATTACHMENT_3
2025-08-28 20:34:35,141 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-28 20:34:36,072 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003074778/file/CP_ATTACHMENT_3 HTTP/1.1" 404 48
2025-08-28 20:34:36,074 - IntegrationFunctions - DEBUG - Response status: 404
2025-08-28 20:34:36,074 - IntegrationFunctions - ERROR - File not found (404) at https://espeed.onevizion.com/api/v3/trackor/1003074778/file/CP_ATTACHMENT_3
2025-08-28 20:34:36,075 - root - INFO - No file in CP_ATTACHMENT_3, skipping.
2025-08-28 20:34:36,077 - werkzeug - INFO - 127.0.0.1 - - [28/Aug/2025 20:34:36] "POST /extract-po-fields HTTP/1.1" 200 -
2025-08-29 23:02:06,998 - root - INFO - Loaded settings.json successfully
2025-08-29 23:02:06,999 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-29 23:02:06,999 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-29 23:02:06,999 - root - INFO - Initialized OneVizion integration
2025-08-29 23:02:13,461 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.18.56:5000
2025-08-29 23:02:13,461 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-29 23:02:13,476 - werkzeug - INFO -  * Restarting with stat
2025-08-29 23:02:21,391 - root - INFO - Loaded settings.json successfully
2025-08-29 23:02:21,391 - IntegrationFunctions - INFO - Initializing BasicIntegration
2025-08-29 23:02:21,391 - IntegrationFunctions - INFO - Integration initialized successfully
2025-08-29 23:02:21,391 - root - INFO - Initialized OneVizion integration
2025-08-29 23:02:23,399 - werkzeug - WARNING -  * Debugger is active!
2025-08-29 23:02:23,407 - werkzeug - INFO -  * Debugger PIN: 800-624-026
2025-08-29 23:02:28,883 - root - INFO - Starting PO extraction for trackor_id=1003075013 over fields=['CP_ATTACHMENT_1', 'CP_ATTACHMENT_2', 'CP_ATTACHMENT_3']
2025-08-29 23:02:28,886 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:30,102 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "POST /api/v3/trackor_types/Client/trackors/search?fields=XITOR_KEY HTTP/1.1" 200 None
2025-08-29 23:02:30,111 - root - INFO - Retrieving file for trackor_id=1003075013, field=CP_ATTACHMENT_1
2025-08-29 23:02:30,111 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003075013, field CP_ATTACHMENT_1
2025-08-29 23:02:30,112 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003075013/file/CP_ATTACHMENT_1
2025-08-29 23:02:30,116 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:31,237 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003075013/file/CP_ATTACHMENT_1 HTTP/1.1" 200 None
2025-08-29 23:02:31,238 - IntegrationFunctions - DEBUG - Response status: 200
2025-08-29 23:02:31,864 - IntegrationFunctions - INFO - Successfully retrieved file (size: 265177 bytes)
2025-08-29 23:02:31,868 - root - INFO - PDF detected in CP_ATTACHMENT_1; extracting fields via OpenAI.
2025-08-29 23:02:31,938 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-9a7351a2-ca07-490d-9cde-f5bbd160c956', 'json_data': {'messages': [{'role': 'user', 'content': '\n        You are a document data extraction expert. The extracted text is from a PDF file of a Purchase Order (PO).\n        First, decide if it is a valid PO.\n        Rules of thumb (not exhaustive):\n        - Valid PO docs typically contain identifiers like "Purchase Order", "PO Number", vendor/buyer names, dates, monetary amounts, ship-to or bill-to sections, line items/description.\n        - If it is an invoice, quote, estimate, SOW, contract, receipt, packing slip, timesheet, or non-procurement document, treat it as NOT a valid PO.\n\n        If NOT a valid PO: \n        Return ONLY this JSON (no extra keys):\n        {\n            "Is Valid PO": false,\n            "Invalid Reason": "<one short sentence why it is not a PO>"\n        }\n\n        If it IS a valid PO:\n        Your task is to extract the following six fields and return them in a JSON object:\n\n        1. Client Name – The name of the company that issued the PO (If it is like wow then "WOW!", if it has Kwikom/wanrack/gateway then "Gateway Fiber", if it has Ripple then "Ripple Fiber")\n        2. PO Number – The official purchase order number\n        3. PO Amount – In case of initial order it will be the total monetary value of the PO, but in case of change order, it will be the amount of change order.\n        4. Purchase Order Type – Determine if it\'s:\n        "Change Order" if terms like “Change Order No.”, “Amendment”, “Revised PO”, or similar are present and contain a non-empty or non-zero value\n        "Initial Order" if there’s no indication of change or revision or change order number is empty.\n        5. PO Date – The date the PO was issued or approved (format: YYYY-MM-DD)\n        6. Ship To Address – The full address of the company issuing the PO. It will be the ship to address. Do not extract Bill to address. Do not use \\n for line breaks. Just use space.\n        7. PO Item Description - The most appropriate PO description in one line. This will be under Items/description/notes/memo. Give the most suitable short PO item/description.\n\n        Return only a JSON string with these fields, like this:\n\n        {  \n            "Is Valid PO": true,\n            "Client Name": "...",\n            "PO Number": "...",\n            "PO Amount": ...,\n            "Purchase Order Type": "...",\n            "PO Date": "YYYY-MM-DD",\n            "Ship To Address": "...",\n            "PO Item Description": "..."\n        }\n\n        If any field is missing or ambiguous, do your best to infer it logically from context, or return null.\n        Return *only* the JSON string. Do not include any explanation or formatting. Do not wrap in backticks.\n\n        Here is the extracted text:\n        Purchase Order\nDate\n2/26/2025\nP.O. No.\nBEAD PE Rvw\nVendor\nEssentia, Inc.\n10130 Mallard Creek Rd, Ste 300\nCharlotte, NC 28262\nShip To\nPioneer Broadband\n34 Military St\nHoulton, ME 04730\nPioneer Broadband\n34 Military St\nHoulton, ME\nME 04730\nTotal\nItem\nDescription\nQty\nRate\nAmount\nBEAD Application\nApplication #1\n10\n158.00\n1,580.00\nBEAD Application\nApplication #2\n10\n158.00\n1,580.00\nBEAD Application\nApplication #3\n10\n158.00\n1,580.00\nBEAD Application\nApplication #4\n10\n158.00\n1,580.00\nBEAD Application\nApplication #5\n10\n158.00\n1,580.00\nBEAD Application\nApplication #6\n10\n158.00\n1,580.00\nBEAD Application\nApplication #7\n10\n158.00\n1,580.00\nBEAD Application\nApplication #8\n10\n158.00\n1,580.00\nBEAD Application\nApplication #9\n10\n158.00\n1,580.00\nBEAD Application\nApplication #10\n10\n158.00\n1,580.00\nBEAD Application\nApplication #11\n10\n158.00\n1,580.00\nBEAD Application\nApplication #12\n10\n158.00\n1,580.00\nBEAD Application\nApplication #13\n10\n158.00\n1,580.00\nBEAD Application\nApplication #14\n10\n158.00\n1,580.00\nBEAD Application\nApplication #15\n10\n158.00\n1,580.00\nBEAD Application\nApplication #16\n10\n158.00\n1,580.00\nBEAD Application\nApplication #17\n10\n158.00\n1,580.00\nBEAD Application\nApplication #18\n10\n158.00\n1,580.00\nBEAD Application\nApplication #19\n10\n158.00\n1,580.00\nBEAD Application\nApplication #20\n10\n158.00\n1,580.00\nBEAD Application\nApplication #21\n10\n158.00\n1,580.00\nBEAD Application\nApplication #22\n10\n158.00\n1,580.00\n$34,760.00\n\n        '}], 'model': 'gpt-4'}}
2025-08-29 23:02:32,122 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-08-29 23:02:32,122 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-08-29 23:02:32,203 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016E505AFEC0>
2025-08-29 23:02:32,203 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000016E504F9350> server_hostname='api.openai.com' timeout=5.0
2025-08-29 23:02:32,240 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016E505AFE60>
2025-08-29 23:02:32,240 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-29 23:02:32,241 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-29 23:02:32,241 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-29 23:02:32,242 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-29 23:02:32,242 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-29 23:02:37,031 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 29 Aug 2025 18:02:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'essentia-pyby0z'), (b'openai-processing-ms', b'3918'), (b'openai-project', b'proj_CNaEuGaiUZ8tieIia74ETBi9'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3922'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'8964'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'6.216s'), (b'x-request-id', b'req_478067cae5b84d68b94888c784ef5422'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=gGCjrms0faCvw4e7BQ8lAC1fkmRXNVmb5TY_24Rc2YM-1756490557-1.0.1.1-Kz8rySITBgSqAFKr.0RdfRcko14AlwBAHBPMDGBKTEVM53vH6z90Fq3psyUSffYhRBfqwVmqWBBYZfRR9b7Rbz7_.IwbXuhcUdvj17syPt4; path=/; expires=Fri, 29-Aug-25 18:32:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=R8pTOVVU1Ebws7BeXHSXkr1cIb47lo2w7AgYRf7U93I-1756490557314-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'976df5c168b321e4-KHI'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-08-29 23:02:37,033 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-29 23:02:37,033 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-29 23:02:37,839 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-29 23:02:37,840 - httpcore.http11 - DEBUG - response_closed.started
2025-08-29 23:02:37,840 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-29 23:02:37,841 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 29 Aug 2025 18:02:37 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'essentia-pyby0z'), ('openai-processing-ms', '3918'), ('openai-project', 'proj_CNaEuGaiUZ8tieIia74ETBi9'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '3922'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '8964'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '6.216s'), ('x-request-id', 'req_478067cae5b84d68b94888c784ef5422'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=gGCjrms0faCvw4e7BQ8lAC1fkmRXNVmb5TY_24Rc2YM-1756490557-1.0.1.1-Kz8rySITBgSqAFKr.0RdfRcko14AlwBAHBPMDGBKTEVM53vH6z90Fq3psyUSffYhRBfqwVmqWBBYZfRR9b7Rbz7_.IwbXuhcUdvj17syPt4; path=/; expires=Fri, 29-Aug-25 18:32:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=R8pTOVVU1Ebws7BeXHSXkr1cIb47lo2w7AgYRf7U93I-1756490557314-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '976df5c168b321e4-KHI'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-08-29 23:02:37,841 - openai._base_client - DEBUG - request_id: req_478067cae5b84d68b94888c784ef5422
2025-08-29 23:02:37,884 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-c9d12ba6-29fe-49c6-aa0d-68f7a7a03346', 'json_data': {'messages': [{'role': 'user', 'content': '\n    You are a matching engine. You are given:\n    - Extracted client name from a document: "Pioneer Broadband"\n    - List of valid existing clients: [\'Verizon\', \'Mastec\', \'Helicore\', \'Ubiquity\', \'WOW!\', \'Crown Castle\', \'Omni\', \'Glide Fiber\', \'Wide Open West\', \'Duke Energy\', \'Comcast Houston\', \'CloudWyze\', \'Comcast\', \'Comcast Denver\', \'Float Fiber\', \'Docomo Pacific\', \'Westchester\', \'Obera Connect\', \'Gateway Fiber\', \'KARYX\', \'Ripple Fiber\', \'Lumen\', \'Pioneer Wireless\', \'CSKT\', \'Essentia, Inc.\', \'AT&T Services, Inc.\', \'Midwest Fiber Networks, Inc\', \'Resound\', \'Syringa Networks\', \'Bertram Communications, LLC\', \'L3Harris\']\n\n    Your job:\n    1. Find the closest, most likely match from the list, accounting for:\n       - Minor differences in case (e.g., WOW vs Wow)\n       - Punctuation differences (WOW vs WOW!)\n       - Common company suffixes (Inc, Corp, LLC, Ltd)\n       - Variants in parentheses (AWS(Karyx) should match KARYX or AWS, whichever is most exact)\n       - Variants like \'AT&T Enterprises, LLC\' should match \'AT&T Services, Inc.\'\n    2. If there is no reasonable match, return "NO_MATCH".\n    3. Return only a JSON string if there is a match with these fields, like this:\n\n        {  \n            "Client Name Matched": "...",\n            "Confidence Level of Matching": "...%"\n        }\n    '}], 'model': 'gpt-4o-mini'}}
2025-08-29 23:02:37,886 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-08-29 23:02:37,886 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-29 23:02:37,888 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-29 23:02:37,888 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-29 23:02:37,889 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-29 23:02:37,889 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-29 23:02:39,167 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 29 Aug 2025 18:02:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'essentia-pyby0z'), (b'openai-processing-ms', b'671'), (b'openai-project', b'proj_CNaEuGaiUZ8tieIia74ETBi9'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'679'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199668'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'99ms'), (b'x-request-id', b'req_f3ba9099d98b4da38af9da2581bd8c3d'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'976df5e4b92d21e4-KHI'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-08-29 23:02:39,169 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-29 23:02:39,169 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-29 23:02:39,440 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-29 23:02:39,440 - httpcore.http11 - DEBUG - response_closed.started
2025-08-29 23:02:39,441 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-29 23:02:39,441 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 29 Aug 2025 18:02:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'essentia-pyby0z', 'openai-processing-ms': '671', 'openai-project': 'proj_CNaEuGaiUZ8tieIia74ETBi9', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '679', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '199668', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '99ms', 'x-request-id': 'req_f3ba9099d98b4da38af9da2581bd8c3d', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '976df5e4b92d21e4-KHI', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-08-29 23:02:39,442 - openai._base_client - DEBUG - request_id: req_f3ba9099d98b4da38af9da2581bd8c3d
2025-08-29 23:02:39,446 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:40,447 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "PUT /api/v3/trackors/1003075013 HTTP/1.1" 200 None
2025-08-29 23:02:40,454 - IntegrationFunctions - INFO - Uploading file to trackor 1003075013, field CP_ACTIVE_PURCHASE_ORDER, name BEAD PE Rvw.pdf
2025-08-29 23:02:40,464 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:42,293 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "POST /api/v3/trackor/1003075013/file/CP_ACTIVE_PURCHASE_ORDER?file_name=BEAD+PE+Rvw.pdf HTTP/1.1" 200 None
2025-08-29 23:02:42,298 - IntegrationFunctions - DEBUG - Upload response 200: 1000728576
2025-08-29 23:02:42,298 - root - INFO - File uploaded to 1003075013 CP_ACTIVE_PURCHASE_ORDER: ({'Date': 'Fri, 29 Aug 2025 18:02:42 GMT', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'AWSALB=VWnN9sa1Q0MbVauAdKrJP14SSVnp/TTcwWJJks3JogdNGbfpqXASulnLdJfXFNEAdhAFV2YpaM5ph/7v2irl+uWGWK4bYyjaA61fdM4QnEYLnZGBcO3G5nrt+HJL; Expires=Fri, 05 Sep 2025 18:02:41 GMT; Path=/, AWSALBCORS=VWnN9sa1Q0MbVauAdKrJP14SSVnp/TTcwWJJks3JogdNGbfpqXASulnLdJfXFNEAdhAFV2YpaM5ph/7v2irl+uWGWK4bYyjaA61fdM4QnEYLnZGBcO3G5nrt+HJL; Expires=Fri, 05 Sep 2025 18:02:41 GMT; Path=/; SameSite=None; Secure', 'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Strict-Transport-Security': 'max-age=2592000', 'X-Frame-Options': 'DENY', 'X-Content-Type-Options': 'nosniff', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-XSS-Protection': '1; mode=block', 'Server': 'ov'}, 1000728576)
2025-08-29 23:02:42,298 - root - INFO - Updated trackor_id 1003075013 from CP_ATTACHMENT_1
2025-08-29 23:02:42,299 - root - INFO - Retrieving file for trackor_id=1003075013, field=CP_ATTACHMENT_2
2025-08-29 23:02:42,299 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003075013, field CP_ATTACHMENT_2
2025-08-29 23:02:42,299 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003075013/file/CP_ATTACHMENT_2
2025-08-29 23:02:42,300 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:43,600 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003075013/file/CP_ATTACHMENT_2 HTTP/1.1" 404 48
2025-08-29 23:02:43,601 - IntegrationFunctions - DEBUG - Response status: 404
2025-08-29 23:02:43,602 - IntegrationFunctions - ERROR - File not found (404) at https://espeed.onevizion.com/api/v3/trackor/1003075013/file/CP_ATTACHMENT_2
2025-08-29 23:02:43,602 - root - INFO - No file in CP_ATTACHMENT_2, skipping.
2025-08-29 23:02:43,602 - root - INFO - Retrieving file for trackor_id=1003075013, field=CP_ATTACHMENT_3
2025-08-29 23:02:43,603 - IntegrationFunctions - INFO - Attempting to retrieve file from trackor 1003075013, field CP_ATTACHMENT_3
2025-08-29 23:02:43,603 - IntegrationFunctions - DEBUG - File URL: https://espeed.onevizion.com/api/v3/trackor/1003075013/file/CP_ATTACHMENT_3
2025-08-29 23:02:43,605 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): espeed.onevizion.com:443
2025-08-29 23:02:44,503 - urllib3.connectionpool - DEBUG - https://espeed.onevizion.com:443 "GET /api/v3/trackor/1003075013/file/CP_ATTACHMENT_3 HTTP/1.1" 404 48
2025-08-29 23:02:44,504 - IntegrationFunctions - DEBUG - Response status: 404
2025-08-29 23:02:44,504 - IntegrationFunctions - ERROR - File not found (404) at https://espeed.onevizion.com/api/v3/trackor/1003075013/file/CP_ATTACHMENT_3
2025-08-29 23:02:44,506 - root - INFO - No file in CP_ATTACHMENT_3, skipping.
2025-08-29 23:02:44,506 - werkzeug - INFO - 127.0.0.1 - - [29/Aug/2025 23:02:44] "POST /extract-po-fields HTTP/1.1" 200 -
